<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>自定义测试promise</title>
    </head>
    <body>
        
    </body>
    <script src="./lib/Promise.js"></script>
    <!-- <script >
        console.log('lllllll')
        const p = new Promise((resolve,reject)=>{
            setTimeout(()=>{
                if(Date.now()%2===0){
                    resolve('成功的value')
                }else{
                    reject('失败的reason')
                }
            },1000)
        })
        console.log(p)
        p.then((value)=>{
            console.log('resolve1',value)
        },(reason)=>{
            console.log('reject1',reason)
        })
        p.then((value)=>{
            console.log('resolve2',value)
        },(reason)=>{
            console.log('reject2',reason)
        })
    </script> -->

    <!-- <script >
        // console.log('lllllll')
        const p = new Promise((resolve,reject)=>{
            resolve(1)
            //reject(2)
        })
        // console.log(p)
        p.then((value)=>{
            // console.log('resolve1',value)
            // throw  3
            return new Promise((resolve,reject)=>{
                //resolve(2)
               // reject(2)
            })
        },(reason)=>{
            console.log('reject1',reason)
        })
        .then((value)=>{
            console.log('resolve2',value)
        },(reason)=>{
            console.log('reject2',reason)
        })
    </script> -->

    <!-- <script>
        new Promise((resolve,reject)=>{
            //throw 3
            resolve(1)
        }).then(null,()=>{})
        .then(null,()=>{})
        .then(null,()=>{})
        .then((value)=>{console.log(value)})
        .catch(reason=>{
            console.log(reason)
        }).then(value =>{
            console.log(value)
        }).then(value=>{
            console.log(value)
            return new Promise(()=>{})
        }).then(value=>console.log(value))
    </script> -->


    <script>
            const p1 = Promise.resolveDelay(4, 200)
            const p2 = Promise.resolve(Promise.resolve(5))
            const p3 = Promise.reject(6)
        
            // Promise.all([p1, p2, 3]).then(values => {
            Promise.all([p1, p2, 3]).then(values => {
              console.log(values,'成功')
            }, reason => {
              console.log(reason,'失败')
            })
            Promise.race([p1, p3]).then(
              value => {
                console.log('成功', value)
              },
              reason => {
                console.log('失败', reason)
              },
            )
        
          </script>
</html>